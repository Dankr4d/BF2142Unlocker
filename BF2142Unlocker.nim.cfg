--threads:on
--gc:orc # TODO: The other garbage collector throws read from nil exceptions when reading two files with the same content.
         #       This happend when RendDX9.dll and RendDX9_ori.dll were the same file:
         #         * 18a7be5d8761e54d43130b8a2a3078b9  RendDX9.dll
         #         * 18a7be5d8761e54d43130b8a2a3078b9  RendDX9_ori.dll
@if windows and release:
  -d:noRes # Required otherwise winim links his own manifest
  --passL:"BF2142Unlocker.res" # Link resource file (including icon and manifest).
@end
@if unix:
  --passC:"-Wl,--export-dynamic"
  --passL:"-lgmodule-2.0 -rdynamic"
@end

# TODO: getSoldiers (fesl client to get soldiers and check login)
-d:ssl -d:openssl10 -d:nimOldDlls -d:sslVersion="1.0.0" --threads:on --passL:"-Ldeps/openssl -lssl -lcrypto -Wl,-rpath,."
-d:nimDisableCertificateValidation # TODO